services:
  dropshark.fingerprint:
    class: Drupal\dropshark\Fingerprint\FingerprintDefault
    arguments: ['@config.factory', '@kernel']
  dropshark.linfo_factory:
    class: Drupal\dropshark\Util\LinfoFactory
    arguments: ['@config.factory']
  dropshark.queue:
    class: Drupal\dropshark\Queue\DbQueue
    arguments: ['@database', '@dropshark.request', '@config.factory']
  dropshark.request:
    class: Drupal\dropshark\Request\Request
    arguments: ['@config.factory', '@http_client']
  plugin.manager.dropshark_collector:
    class: Drupal\dropshark\Collector\CollectorManager
    parent: default_plugin_manager
    arguments: ['@dropshark.queue', '@dropshark.fingerprint']
