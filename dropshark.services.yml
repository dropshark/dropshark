services:
  dropshark.fingerprint:
    class: Drupal\dropshark\Fingerprint\FingerprintDefault
    arguments: ['@config.factory', '@kernel']
  dropshark.queue:
    class: Drupal\dropshark\Queue\DbQueue
    arguments: ['@dropshark.request']
  dropshark.request:
    class: Drupal\dropshark\Request\DropSharkRequest
    arguments: ['@config.factory', '@http_client']
  plugin.manager.dropshark_collector:
    class: Drupal\dropshark\Collector\CollectorManager
    parent: default_plugin_manager
    arguments: ['@dropshark.queue', '@dropshark.fingerprint']
